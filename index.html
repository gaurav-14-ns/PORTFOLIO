<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Gaurav — Portfolio</title>

<style>
:root{
  --bg:#0f172a;--panel:#111827;--text:#e5e7eb;--muted:#9ca3af;
  --accent:#22c55e;--card:#0b1223;--border:#1f2937;
}
.light{
  --bg:#f8fafc;--panel:#fff;--text:#0f172a;--muted:#475569;
  --accent:#0ea5e9;--card:#fff;--border:#e2e8f0;
}
html,body{margin:0;font-family:system-ui;background:var(--bg);color:var(--text);}
.container{max-width:1080px;margin:auto;padding:0 1.25rem}
section{padding:2rem 0}
.card{background:var(--card);border:1px solid var(--border);border-radius:.75rem;padding:1rem}

/* ACCORDION */
.accordion-item{border-bottom:1px solid var(--border)}
.accordion-header{
  width:100%;background:none;border:none;padding:1rem;
  display:flex;justify-content:space-between;
  font-size:1.05rem;color:var(--text);cursor:pointer
}
.accordion-header::after{content:"▸";transition:.2s}
.accordion-header.active::after{transform:rotate(90deg)}
.accordion-body{max-height:0;overflow:hidden;transition:max-height .3s ease}

/* GALLERY */
.project-gallery{display:flex;gap:.5rem;overflow-x:auto}
.project-gallery img{
  max-height:260px;border-radius:.5rem;border:1px solid var(--border);
  cursor:pointer
}

/* MODAL */
.modal{
  display:none;position:fixed;inset:0;
  background:rgba(0,0,0,.95);
  z-index:9999;align-items:center;justify-content:center;
  touch-action:pan-y;
}
.modal img{
  max-width:100vw;max-height:100vh;
  object-fit:contain;
}
.close{
  position:absolute;top:16px;right:20px;
  font-size:34px;color:#fff;cursor:pointer;
  z-index:10;
}

/* Desktop arrows only */
.modal-nav{
  display:flex;
}
.modal-nav span{
  position:absolute;top:50%;transform:translateY(-50%);
  font-size:48px;color:#fff;cursor:pointer;
  padding:10px 16px;border-radius:50%;
  background:rgba(0,0,0,.35)
}
.prev{left:20px}.next{right:20px}

@media (max-width: 768px){
  .modal-nav{display:none}
}
</style>
</head>

<body>

<main class="container">

<section id="projects">
<h2>Projects</h2>

<div class="accordion">

<div class="accordion-item">
<button class="accordion-header">Sales Revenue Dashboard</button>
<div class="accordion-body">
<p>Python | MySQL | Power BI</p>
<div class="project-gallery">
<img src="Sales-Revenue-Dashboard/images/page1.png">
<img src="Sales-Revenue-Dashboard/images/page2.png">
<img src="Sales-Revenue-Dashboard/images/page3.png">
</div>
</div>
</div>

<div class="accordion-item">
<button class="accordion-header">SaaS Revenue & Retention Analytics</button>
<div class="accordion-body">
<p>Python | MySQL | Power BI</p>
<div class="project-gallery">
<img src="SaaS-revenue-retention-analytics/images/page1_growth_command_center.png">
<img src="SaaS-revenue-retention-analytics/images/page2_retention_intelligence.png">
<img src="SaaS-revenue-retention-analytics/images/page3_retention_simulator.png">
</div>
</div>
</div>

</div>
</section>

</main>

<!-- MODAL -->
<div id="imgModal" class="modal">
<span class="close">&times;</span>
<img id="modalImg">
<div class="modal-nav">
<span class="prev">&#10094;</span>
<span class="next">&#10095;</span>
</div>
</div>

<script>
/* ACCORDION */
document.querySelectorAll(".accordion-header").forEach(h=>{
  h.onclick=()=>{
    document.querySelectorAll(".accordion-header").forEach(x=>{
      if(x!==h){x.classList.remove("active");x.nextElementSibling.style.maxHeight=null}
    });
    h.classList.toggle("active");
    let body=h.nextElementSibling;
    body.style.maxHeight=h.classList.contains("active")?body.scrollHeight+"px":null;
  };
});

/* MODAL + SWIPE */
const modal=document.getElementById("imgModal");
const modalImg=document.getElementById("modalImg");
const images=[...document.querySelectorAll(".project-gallery img")];
let index=0,startX=0;

images.forEach((img,i)=>{
  img.onclick=()=>{
    index=i;
    modalImg.src=img.src;
    modal.style.display="flex";
  };
});

document.querySelector(".close").onclick=()=>modal.style.display="none";
document.querySelector(".prev").onclick=()=>change(-1);
document.querySelector(".next").onclick=()=>change(1);

function change(step){
  index=(index+step+images.length)%images.length;
  modalImg.src=images[index].src;
}

/* Swipe handling */
modal.addEventListener("touchstart",e=>{
  startX=e.touches[0].clientX;
},{passive:true});

modal.addEventListener("touchend",e=>{
  const endX=e.changedTouches[0].clientX;
  const diff=startX-endX;
  if(Math.abs(diff)>50){
    diff>0?change(1):change(-1);
  }
});

/* ESC + background tap */
document.addEventListener("keydown",e=>{
  if(e.key==="Escape")modal.style.display="none";
});
modal.addEventListener("click",e=>{
  if(e.target===modal)modal.style.display="none";
});
</script>

</body>
</html>
