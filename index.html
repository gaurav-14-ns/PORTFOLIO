<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gaurav â€” Portfolio</title>

<style>
:root{
  --bg:#0f172a;--panel:#111827;--text:#e5e7eb;--muted:#9ca3af;
  --accent:#22c55e;--card:#0b1223;--border:#1f2937;
}
html,body{margin:0;padding:0}
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:var(--bg);color:var(--text);line-height:1.6;
}
.container{max-width:1080px;margin:auto;padding:0 1.25rem}
section{padding:2rem 0}
h2{margin-bottom:1rem}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:.75rem;
  padding:1rem;
}

/* ---------- ACCORDION ---------- */
.accordion-item{border-bottom:1px solid var(--border)}
.accordion-header{
  width:100%;
  background:none;
  border:none;
  padding:1rem;
  font-size:1.05rem;
  font-weight:600;
  color:var(--text);
  text-align:left;
  cursor:pointer;
}
.accordion-body{
  max-height:0;
  overflow:hidden;
  transition:max-height .3s ease;
  padding:0 1rem;
}

/* ---------- GALLERY ---------- */
.project-gallery{
  display:flex;
  gap:.5rem;
  overflow-x:auto;
}
.project-gallery img{
  max-height:280px;
  border-radius:.5rem;
  border:1px solid var(--border);
  cursor:pointer;
}

/* ---------- MODAL ---------- */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.95);
  display:none;
  z-index:9999;
}
.modal-content{
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  position:relative;
}
.modal-track{
  display:flex;
  height:100%;
  transition:transform .35s ease;
}
.modal-slide{
  min-width:100vw;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
}
.modal-slide img{
  max-width:100%;
  max-height:100%;
  object-fit:contain;
  touch-action:none;
}

/* Close */
.close{
  position:absolute;
  top:16px;
  right:20px;
  font-size:36px;
  color:#fff;
  cursor:pointer;
  z-index:10;
}

/* Desktop arrows */
.nav-arrow{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  font-size:48px;
  color:#fff;
  cursor:pointer;
  padding:10px;
  user-select:none;
  z-index:10;
}
.nav-arrow.left{left:10px}
.nav-arrow.right{right:10px}

/* Hide arrows on touch devices */
@media (hover:none){
  .nav-arrow{display:none}
}
</style>
</head>

<body>

<main class="container">

<section id="projects">
<h2>Projects</h2>

<div class="accordion">

<div class="accordion-item">
<button class="accordion-header">SaaS Revenue & Retention Analytics</button>
<div class="accordion-body">
<p>Lifecycle churn, cohorts, what-if revenue simulation.</p>
<div class="project-gallery">
<img src="SaaS-revenue-retention-analytics/images/page1_growth_command_center.png">
<img src="SaaS-revenue-retention-analytics/images/page2_retention_intelligence.png">
<img src="SaaS-revenue-retention-analytics/images/page3_retention_simulator.png">
</div>
</div>
</div>

<div class="accordion-item">
<button class="accordion-header">Pricing & Promotion Impact Simulator</button>
<div class="accordion-body">
<p>Scenario-based pricing and discount impact.</p>
<div class="project-gallery">
<img src="Pricing-and-Promotion-Impact-Simulator/images/page1a.png">
<img src="Pricing-and-Promotion-Impact-Simulator/images/page1b.png">
<img src="Pricing-and-Promotion-Impact-Simulator/images/page1c.png">
</div>
</div>
</div>

</div>
</section>

</main>

<!-- MODAL -->
<div class="modal" id="modal">
  <span class="close" id="close">&times;</span>
  <div class="nav-arrow left" id="prev">&#10094;</div>
  <div class="nav-arrow right" id="next">&#10095;</div>

  <div class="modal-content">
    <div class="modal-track" id="track"></div>
  </div>
</div>

<script>
/* ---------- ACCORDION ---------- */
document.querySelectorAll(".accordion-header").forEach(h=>{
  h.onclick=()=>{
    document.querySelectorAll(".accordion-body").forEach(b=>{
      if(b!==h.nextElementSibling)b.style.maxHeight=null;
    });
    const body=h.nextElementSibling;
    body.style.maxHeight=body.style.maxHeight?null:body.scrollHeight+"px";
  };
});

/* ---------- MODAL ENGINE ---------- */
const modal=document.getElementById("modal");
const track=document.getElementById("track");
const closeBtn=document.getElementById("close");
const prevBtn=document.getElementById("prev");
const nextBtn=document.getElementById("next");

let slides=[], index=0;
let scale=1, startX=0, startY=0, dx=0, dy=0;

document.querySelectorAll(".project-gallery").forEach(gallery=>{
  const imgs=[...gallery.querySelectorAll("img")];
  imgs.forEach((img,i)=>{
    img.onclick=()=>openModal(imgs.map(x=>x.src),i);
  });
});

function openModal(images,start){
  slides=images;
  index=start;
  track.innerHTML="";
  images.forEach(src=>{
    const slide=document.createElement("div");
    slide.className="modal-slide";
    const img=document.createElement("img");
    img.src=src;
    slide.appendChild(img);
    track.appendChild(slide);
    enableZoom(img);
  });
  update();
  modal.style.display="block";
}

function update(){
  track.style.transform=`translateX(-${index*window.innerWidth}px)`;
}

function closeModal(){modal.style.display="none"}

prevBtn.onclick=()=>{if(index>0){index--;update()}};
nextBtn.onclick=()=>{if(index<slides.length-1){index++;update()}};

document.onkeydown=e=>{
  if(modal.style.display!=="block")return;
  if(e.key==="Escape")closeModal();
  if(e.key==="ArrowLeft"&&index>0){index--;update()}
  if(e.key==="ArrowRight"&&index<slides.length-1){index++;update()}
};

modal.onclick=e=>{if(e.target===modal)closeModal()};
closeBtn.onclick=closeModal;

/* ---------- ZOOM + PAN ---------- */
function enableZoom(img){
  let lastX=0,lastY=0;
  img.onwheel=e=>{
    e.preventDefault();
    scale+=e.deltaY*-0.001;
    scale=Math.min(Math.max(1,scale),4);
    img.style.transform=`scale(${scale}) translate(${dx}px,${dy}px)`;
  };
  img.onpointerdown=e=>{
    img.setPointerCapture(e.pointerId);
    startX=e.clientX-dx;
    startY=e.clientY-dy;
  };
  img.onpointermove=e=>{
    if(e.pressure===0||scale===1)return;
    dx=e.clientX-startX;
    dy=e.clientY-startY;
    img.style.transform=`scale(${scale}) translate(${dx}px,${dy}px)`;
  };
  img.onpointerup=()=>{};
}
</script>

</body>
</html>
